<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aerolínea Carrillo - Sistema Administrativo</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- SweetAlert2 -->
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-dark sticky-top">
        <div class="container-fluid">
            <span class="navbar-brand mb-0 h1">
                <i class="fas fa-plane"></i>
                Aerolínea Carrillo - Sistema Administrativo
            </span>
            <span class="navbar-text text-white">
                <i class="fas fa-user-circle"></i> Empleado
            </span>
        </div>
    </nav>

    <div class="container-fluid mt-4">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-2">
                <div class="sidebar">
                    <div class="list-group list-group-flush">
                        <a href="#" class="list-group-item list-group-item-action active" onclick="showSection('dashboard')">
                            <i class="fas fa-tachometer-alt"></i> Dashboard
                        </a>
                        <a href="#" class="list-group-item list-group-item-action" onclick="showSection('configuracion')">
                            <i class="fas fa-cog"></i> Configuración
                        </a>
                        <a href="#" class="list-group-item list-group-item-action" onclick="showSection('aeronaves')">
                            <i class="fas fa-plane"></i> Aeronaves
                        </a>
                        <a href="#" class="list-group-item list-group-item-action" onclick="showSection('personal')">
                            <i class="fas fa-users-cog"></i> Personal
                        </a>
                        <a href="#" class="list-group-item list-group-item-action" onclick="showSection('comercial')">
                            <i class="fas fa-handshake"></i> Comercial
                        </a>
                        <a href="#" class="list-group-item list-group-item-action" onclick="showSection('operaciones')">
                            <i class="fas fa-plane-departure"></i> Operaciones
                        </a>
                        <a href="#" class="list-group-item list-group-item-action" onclick="showSection('gestion-ventas')">
                            <i class="fas fa-shopping-cart"></i> Ventas
                        </a>
                        <a href="#" class="list-group-item list-group-item-action" onclick="showSection('busqueda')">
                            <i class="fas fa-search"></i> Búsqueda
                        </a>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-md-10">
                <!-- Dashboard Section -->
                <div id="dashboard" class="content-section">
                    <h2 class="mb-4"><i class="fas fa-tachometer-alt"></i> Dashboard</h2>
                    <div class="row">
                        <div class="col-md-3">
                            <div class="card text-white bg-primary">
                                <div class="card-body">
                                    <h5 class="card-title"><i class="fas fa-users"></i> Clientes</h5>
                                    <h2 id="totalClientes">0</h2>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card text-white bg-success">
                                <div class="card-body">
                                    <h5 class="card-title"><i class="fas fa-plane"></i> Aviones</h5>
                                    <h2 id="totalAviones">0</h2>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card text-white bg-info">
                                <div class="card-body">
                                    <h5 class="card-title"><i class="fas fa-route"></i> Rutas</h5>
                                    <h2 id="totalRutas">0</h2>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card text-white bg-danger">
                                <div class="card-body">
                                    <h5 class="card-title"><i class="fas fa-ticket-alt"></i> Ventas Hoy</h5>
                                    <h2 id="totalVentasHoy">0</h2>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header bg-primary text-white">
                                    <i class="fas fa-chart-line"></i> Próximos Vuelos
                                </div>
                                <div class="card-body">
                                    <div id="proximosVuelos">
                                        <p class="text-muted">Cargando...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header bg-success text-white">
                                    <i class="fas fa-users-cog"></i> Personal Activo
                                </div>
                                <div class="card-body">
                                    <div id="personalActivo">
                                        <p class="text-muted">Cargando...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Configuración Section -->
                <div id="configuracion" class="content-section" style="display:none;">
                    <h2 class="mb-4"><i class="fas fa-cog"></i> Configuración del Sistema</h2>
                    
                    <!-- Tabs Navigation -->
                    <ul class="nav nav-tabs mb-3" id="configTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="ciudades-tab" data-bs-toggle="tab" data-bs-target="#ciudades-content" type="button">
                                <i class="fas fa-city"></i> Ciudades
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="aeropuertos-tab" data-bs-toggle="tab" data-bs-target="#aeropuertos-content" type="button">
                                <i class="fas fa-plane-arrival"></i> Aeropuertos
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="departamentos-tab" data-bs-toggle="tab" data-bs-target="#departamentos-content" type="button">
                                <i class="fas fa-building"></i> Departamentos
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="metodos-pago-tab" data-bs-toggle="tab" data-bs-target="#metodos-pago-content" type="button">
                                <i class="fas fa-credit-card"></i> Métodos de Pago
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="impuestos-tab" data-bs-toggle="tab" data-bs-target="#impuestos-content" type="button">
                                <i class="fas fa-percentage"></i> Impuestos
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="tarifas-tab" data-bs-toggle="tab" data-bs-target="#tarifas-content" type="button">
                                <i class="fas fa-dollar-sign"></i> Tarifas
                            </button>
                        </li>
                    </ul>
                    
                    <!-- Tabs Content -->
                    <div class="tab-content" id="configTabsContent">
                        <!-- Las pestañas de configuración se cargan dinámicamente desde configuracion.js -->
                        <div class="tab-pane fade show active" id="ciudades-content"></div>
                        <div class="tab-pane fade" id="aeropuertos-content"></div>
                        <div class="tab-pane fade" id="departamentos-content"></div>
                        <div class="tab-pane fade" id="metodos-pago-content"></div>
                        <div class="tab-pane fade" id="impuestos-content"></div>
                        <div class="tab-pane fade" id="tarifas-content"></div>
                    </div>
                </div>

                <!-- Aeronaves Section -->
                <div id="aeronaves" class="content-section" style="display:none;">
                    <h2 class="mb-4"><i class="fas fa-plane"></i> Gestión de Aeronaves</h2>
                    
                    <!-- Tabs Navigation -->
                    <ul class="nav nav-tabs mb-3" id="aeronaveTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="aviones-tab" data-bs-toggle="tab" data-bs-target="#aviones-content" type="button">
                                <i class="fas fa-plane"></i> Aviones
                            </button>
                        </li>

                    </ul>
                    
                    <!-- Tabs Content -->
                    <div class="tab-content" id="aeronaveTabsContent">
                        <!-- Las pestañas de aeronaves se cargan dinámicamente desde aeronaves.js -->
                        <div class="tab-pane fade show active" id="aviones-content"></div>

                    </div>
                </div>

                <!-- Personal Section -->
                <div id="personal" class="content-section" style="display:none;">
                    <h2 class="mb-4"><i class="fas fa-users-cog"></i> Gestión de Personal</h2>
                    
                    <!-- Tabs Navigation -->
                    <ul class="nav nav-tabs mb-3" id="personalTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="empleados-tab" data-bs-toggle="tab" data-bs-target="#empleados-content" type="button">
                                <i class="fas fa-user-tie"></i> Empleados
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="tripulaciones-tab" data-bs-toggle="tab" data-bs-target="#tripulaciones-content" type="button">
                                <i class="fas fa-users"></i> Tripulaciones
                            </button>
                        </li>
                    </ul>
                    
                    <!-- Tabs Content -->
                    <div class="tab-content" id="personalTabsContent">
                        <!-- Las pestañas de personal se cargan dinámicamente desde personal.js -->
                        <div class="tab-pane fade show active" id="empleados-content"></div>
                        <div class="tab-pane fade" id="tripulaciones-content"></div>
                    </div>
                </div>

                <!-- Comercial Section -->
                <div id="comercial" class="content-section" style="display:none;">
                    <h2 class="mb-4"><i class="fas fa-handshake"></i> Gestión Comercial</h2>
                    
                    <!-- Tabs Navigation -->
                    <ul class="nav nav-tabs mb-3" id="comercialTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="clientes-tab" data-bs-toggle="tab" data-bs-target="#clientes-content" type="button">
                                <i class="fas fa-users"></i> Clientes
                            </button>
                        </li>

                    </ul>
                    
                    <!-- Tabs Content -->
                    <div class="tab-content" id="comercialTabsContent">
                        <!-- Las pestañas de comercial se cargan dinámicamente desde comercial.js -->
                        <div class="tab-pane fade show active" id="clientes-content"></div>

                    </div>
                </div>

                <!-- Operaciones Section -->
                <div id="operaciones" class="content-section" style="display:none;">
                    <h2 class="mb-4"><i class="fas fa-plane-departure"></i> Operaciones de Vuelo</h2>
                    
                    <!-- Tabs Navigation -->
                    <ul class="nav nav-tabs mb-3" id="operacionesTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="rutas-tab" data-bs-toggle="tab" data-bs-target="#rutas-content" type="button">
                                <i class="fas fa-route"></i> Rutas
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="vuelos-tab" data-bs-toggle="tab" data-bs-target="#vuelos-content" type="button">
                                <i class="fas fa-plane"></i> Vuelos
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="instancias-tab" data-bs-toggle="tab" data-bs-target="#instancias-content" type="button">
                                <i class="fas fa-calendar-alt"></i> Instancias
                            </button>
                        </li>
                    </ul>
                    
                    <!-- Tabs Content -->
                    <div class="tab-content" id="operacionesTabsContent">
                        <!-- Las pestañas de operaciones se cargan dinámicamente desde operaciones-vuelo.js -->
                        <div class="tab-pane fade show active" id="rutas-content"></div>
                        <div class="tab-pane fade" id="vuelos-content"></div>
                        <div class="tab-pane fade" id="instancias-content"></div>
                    </div>
                </div>

                <!-- Gestión de Ventas Section -->
                <div id="gestion-ventas" class="content-section" style="display:none;">
                    <h2 class="mb-4"><i class="fas fa-shopping-cart"></i> Proceso de Venta</h2>
                    
                    <!-- El contenido completo se carga dinámicamente desde gestion-ventas.js -->
                    <div id="procesoVentaContent">
                        <!-- Aquí se cargará el wizard de pasos para la venta -->
                    </div>
                </div>

                <!-- Búsqueda Section -->
                <div id="busqueda" class="content-section" style="display:none;">
                    <h2 class="mb-4"><i class="fas fa-search"></i> Búsqueda de Vuelos</h2>
                    
                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            <i class="fas fa-search"></i> Buscar Vuelos Disponibles
                        </div>
                        <div class="card-body">
                            <form id="formBusquedaVuelos">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Aeropuerto de Origen</label>
                                            <select class="form-control" id="busquedaOrigen">
                                                <option value="">Cualquier origen</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Aeropuerto de Destino</label>
                                            <select class="form-control" id="busquedaDestino">
                                                <option value="">Cualquier destino</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Fecha de Viaje</label>
                                            <input type="date" class="form-control" id="busquedaFecha">
                                        </div>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-primary btn-lg" onclick="buscarVuelos()">
                                    <i class="fas fa-search"></i> Buscar Vuelos
                                </button>
                            </form>
                        </div>
                    </div>

                    <!-- Resultados -->
                    <div class="card mt-4" id="resultadosBusqueda" style="display:none;">
                        <div class="card-header bg-success text-white">
                            <i class="fas fa-plane"></i> Resultados de Búsqueda
                        </div>
                        <div class="card-body">
                            <div id="listaResultados"></div>
                        </div>
                    </div>

                    <!-- Selección de Cliente -->
                    <div class="card mt-4" id="seleccionClienteCard" style="display:none;">
                        <div class="card-header bg-info text-white">
                            <i class="fas fa-user-search"></i> Paso 2: Seleccionar Cliente
                        </div>
                        <div class="card-body">

                            <div class="mb-3">
                                <label class="form-label">Buscar Cliente</label>
                                <div class="input-group">
                                    <input type="text" class="form-control" id="buscarClienteInput" placeholder="Buscar por nombre, correo...">
                                    <button class="btn btn-outline-primary" onclick="buscarClientes()">
                                        <i class="fas fa-search"></i> Buscar
                                    </button>
                                </div>
                            </div>
                            <div id="listaClientes" style="display:none;"></div>
                        </div>
                    </div>

                    <!-- Selección de Asiento -->
                    <div class="card mt-4" id="seleccionAsientoCard" style="display:none;">
                        <div class="card-header bg-warning text-dark">
                            <i class="fas fa-chair"></i> Paso 3: Seleccionar Asiento
                        </div>
                        <div class="card-body">

                            <div id="mapaAsientos"></div>
                        </div>
                    </div>

                    <!-- Datos del Pasajero -->
                    <div class="card mt-4" id="datosPasajeroCard" style="display:none;">
                        <div class="card-header bg-info text-white">
                            <i class="fas fa-user-edit"></i> Paso 4: Datos del Pasajero
                        </div>
                        <div class="card-body">

                            <form id="formPasajero">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Nombre *</label>
                                            <input type="text" class="form-control" id="pasajeroNombre" required maxlength="50">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Apellido Paterno *</label>
                                            <input type="text" class="form-control" id="pasajeroApellidoP" required maxlength="50">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Apellido Materno</label>
                                            <input type="text" class="form-control" id="pasajeroApellidoM" maxlength="50">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Fecha de Nacimiento *</label>
                                            <input type="date" class="form-control" id="pasajeroFechaNacimiento" required>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Nacionalidad</label>
                                            <input type="text" class="form-control" id="pasajeroNacionalidad" value="Mexicana" maxlength="50">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Pasaporte</label>
                                            <input type="text" class="form-control" id="pasajeroPasaporte" maxlength="50" placeholder="Opcional">
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <button type="button" class="btn btn-primary" onclick="continuarConPasajero()">
                                        <i class="fas fa-arrow-right"></i> Continuar
                                    </button>
                                    <button type="button" class="btn btn-outline-secondary" onclick="copiarDatosCliente()">
                                        <i class="fas fa-copy"></i> Usar datos del cliente
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Método de Pago -->
                    <div class="card mt-4" id="metodoPagoCard" style="display:none;">
                        <div class="card-header bg-warning text-dark">
                            <i class="fas fa-credit-card"></i> Paso 5: Método de Pago
                        </div>
                        <div class="card-body">

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label">Método de Pago *</label>
                                        <select class="form-control" id="metodoPagoSelect" required>
                                            <option value="">Seleccione un método</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label">Canal de Venta</label>
                                        <select class="form-control" id="canalVenta">
                                            <option value="WEB">Web</option>
                                            <option value="PRESENCIAL">Presencial</option>
                                            <option value="TELEFONO">Teléfono</option>
                                            <option value="MOVIL">Móvil</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-3">
                                <button type="button" class="btn btn-primary" onclick="continuarConPago()">
                                    <i class="fas fa-arrow-right"></i> Continuar
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Confirmación Final -->
                    <div class="card mt-4" id="confirmacionFinalCard" style="display:none;">
                        <div class="card-header bg-success text-white">
                            <i class="fas fa-clipboard-check"></i> Paso 6: Confirmación Final
                        </div>
                        <div class="card-body">

                            <div id="resumenCompleto"></div>
                            <div class="mt-4">
                                <button class="btn btn-success btn-lg" onclick="procesarCompraFinal()">
                                    <i class="fas fa-check-circle"></i> Confirmar y Procesar Compra
                                </button>
                                <button class="btn btn-secondary" onclick="cancelarProceso()">
                                    <i class="fas fa-times"></i> Cancelar
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Resultado Final -->
                    <div class="card mt-4" id="resultadoFinalCard" style="display:none;">
                        <div class="card-header bg-success text-white">
                            <i class="fas fa-ticket-alt"></i> ¡Compra Exitosa!
                        </div>
                        <div class="card-body">
                            <div id="detallesBoleto"></div>
                            <div class="mt-3">
                                <button class="btn btn-primary" onclick="nuevaCompra()">
                                    <i class="fas fa-plus"></i> Nueva Compra
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pasajeros Section -->
                <div id="pasajeros" class="content-section" style="display:none;">
                    <h2 class="mb-4"><i class="fas fa-user-friends"></i> Gestión de Pasajeros</h2>
                    
                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            <i class="fas fa-user-plus"></i> Nuevo Pasajero
                        </div>
                        <div class="card-body">
                            <form id="formPasajero" novalidate>
                                <h5 class="mb-3 text-primary">Datos Personales</h5>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Nombre *</label>
                                            <input type="text" class="form-control" id="pasajeroNombre" maxlength="50" required>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Apellido Paterno *</label>
                                            <input type="text" class="form-control" id="pasajeroApellidoP" maxlength="50" required>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Apellido Materno</label>
                                            <input type="text" class="form-control" id="pasajeroApellidoM" maxlength="50">
                                        </div>
                                    </div>
                                </div>
                                
                                <h5 class="mb-3 text-primary">Información Adicional</h5>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Fecha de Nacimiento *</label>
                                            <input type="date" class="form-control" id="pasajeroFechaNac" required>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Nacionalidad</label>
                                            <input type="text" class="form-control" id="pasajeroNacionalidad" maxlength="50" placeholder="Ej: Mexicana">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Pasaporte</label>
                                            <input type="text" class="form-control" id="pasajeroPasaporte" maxlength="50" placeholder="Ej: A12345678">
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="d-flex gap-2">
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-save"></i> Guardar Pasajero
                                    </button>
                                    <button type="button" class="btn btn-secondary" onclick="resetPasajeroForm()">
                                        <i class="fas fa-times"></i> Cancelar
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="card mt-4">
                        <div class="card-header bg-primary text-white">
                            <i class="fas fa-list"></i> Lista de Pasajeros
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-search"></i></span>
                                    <input type="text" class="form-control" id="buscarPasajero" placeholder="Buscar por nombre, pasaporte o nacionalidad...">
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Nombre Completo</th>
                                            <th>Pasaporte</th>
                                            <th>Fecha Nacimiento</th>
                                            <th>Nacionalidad</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaPasajeros"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Vuelos Section -->
                <div id="vuelos" class="content-section" style="display:none;">
                    <h2 class="mb-4"><i class="fas fa-plane-departure"></i> Gestión de Vuelos</h2>
                    
                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            <i class="fas fa-plus"></i> Nuevo Vuelo
                        </div>
                        <div class="card-body">
                            <form id="formVuelo" novalidate>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">Número de Vuelo *</label>
                                            <input type="text" class="form-control" id="vueloNumero" maxlength="20" placeholder="Ej: AA123" required>
                                            <small class="form-text text-muted">Código único del vuelo</small>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">Ruta</label>
                                            <select class="form-control" id="vueloRuta">
                                                <option value="">Seleccione una ruta (opcional)</option>
                                            </select>
                                            <small class="form-text text-muted">Origen → Destino</small>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">Duración</label>
                                            <input type="text" class="form-control" id="vueloDuracion" placeholder="HH:MM:SS (ej: 02:30:00)">
                                            <small class="form-text text-muted">Formato: HH:MM:SS</small>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="d-flex gap-2">
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-save"></i> Guardar Vuelo
                                    </button>
                                    <button type="button" class="btn btn-secondary" onclick="resetVueloForm()">
                                        <i class="fas fa-times"></i> Cancelar
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="card mt-4">
                        <div class="card-header bg-primary text-white">
                            <i class="fas fa-list"></i> Lista de Vuelos
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-search"></i></span>
                                    <input type="text" class="form-control" id="buscarVuelo" placeholder="Buscar por número de vuelo o duración...">
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Número Vuelo</th>
                                            <th>Ruta</th>
                                            <th>Duración</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaVuelos"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Instancias Vuelo Section -->
                <div id="instancias" class="content-section" style="display:none;">
                    <h2 class="mb-4"><i class="fas fa-calendar-alt"></i> Gestión de Instancias de Vuelo</h2>
                    
                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            <i class="fas fa-plus"></i> Nueva Instancia de Vuelo
                        </div>
                        <div class="card-body">
                            <form id="formInstancia" novalidate>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">Vuelo *</label>
                                            <select class="form-control" id="instanciaVuelo" required>
                                                <option value="">Seleccione un vuelo</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">Avión *</label>
                                            <select class="form-control" id="instanciaAvion" required>
                                                <option value="">Seleccione un avión</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">Fecha y Hora de Salida *</label>
                                            <input type="datetime-local" class="form-control" id="instanciaFechaSalida" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">Fecha y Hora de Llegada *</label>
                                            <input type="datetime-local" class="form-control" id="instanciaFechaLlegada" required>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">Estado *</label>
                                            <select class="form-control" id="instanciaEstado" required>
                                                <option value="PROGRAMADO">Programado</option>
                                                <option value="EN_VUELO">En Vuelo</option>
                                                <option value="COMPLETADO">Completado</option>
                                                <option value="CANCELADO">Cancelado</option>
                                                <option value="RETRASADO">Retrasado</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="d-flex gap-2">
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-save"></i> Guardar Instancia
                                    </button>
                                    <button type="button" class="btn btn-secondary" onclick="resetInstanciaForm()">
                                        <i class="fas fa-times"></i> Cancelar
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="card mt-4">
                        <div class="card-header bg-primary text-white">
                            <i class="fas fa-list"></i> Lista de Instancias
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-search"></i></span>
                                    <input type="text" class="form-control" id="buscarInstancia" placeholder="Buscar por vuelo, avión o estado...">
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Vuelo</th>
                                            <th>Avión</th>
                                            <th>Fecha Salida</th>
                                            <th>Fecha Llegada</th>
                                            <th>Estado</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaInstancias"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reservas Section -->
                <div id="reservas" class="content-section" style="display:none;">
                    <h2 class="mb-4"><i class="fas fa-bookmark"></i> Gestión de Reservas</h2>
                    
                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            <i class="fas fa-plus"></i> Nueva Reserva
                        </div>
                        <div class="card-body">
                            <form id="formReserva" novalidate>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">Código de Reserva *</label>
                                            <input type="text" class="form-control" id="reservaCodigo" maxlength="20" required readonly>
                                            <small class="form-text text-muted">Se genera automáticamente</small>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">Cliente *</label>
                                            <select class="form-control" id="reservaCliente" required>
                                                <option value="">Seleccione un cliente</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">Fecha de Reserva *</label>
                                            <input type="date" class="form-control" id="reservaFecha" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">Estado *</label>
                                            <select class="form-control" id="reservaEstado" required>
                                                <option value="PENDIENTE">Pendiente</option>
                                                <option value="CONFIRMADA">Confirmada</option>
                                                <option value="CANCELADA">Cancelada</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="d-flex gap-2">
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-save"></i> Guardar Reserva
                                    </button>
                                    <button type="button" class="btn btn-secondary" onclick="resetReservaForm()">
                                        <i class="fas fa-times"></i> Cancelar
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="card mt-4">
                        <div class="card-header bg-primary text-white">
                            <i class="fas fa-list"></i> Lista de Reservas
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-search"></i></span>
                                    <input type="text" class="form-control" id="buscarReserva" placeholder="Buscar por código, cliente o estado...">
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Código</th>
                                            <th>Cliente</th>
                                            <th>Fecha Reserva</th>
                                            <th>Estado</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaReservas"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Boletos Section -->
                <div id="boletos" class="content-section" style="display:none;">
                    <h2 class="mb-4"><i class="fas fa-ticket-alt"></i> Gestión de Boletos</h2>
                    
                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            <i class="fas fa-plus"></i> Nuevo Boleto
                        </div>
                        <div class="card-body">
                            <form id="formBoleto" novalidate>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">Número de Boleto *</label>
                                            <input type="text" class="form-control" id="boletoNumero" maxlength="30" required readonly>
                                            <small class="form-text text-muted">Se genera automáticamente</small>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">Pasajero *</label>
                                            <select class="form-control" id="boletoPasajero" required>
                                                <option value="">Seleccione un pasajero</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">Reserva</label>
                                            <select class="form-control" id="boletoReserva">
                                                <option value="">Seleccione una reserva (opcional)</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">Instancia de Vuelo</label>
                                            <select class="form-control" id="boletoInstancia">
                                                <option value="">Seleccione una instancia (opcional)</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Fecha de Emisión *</label>
                                            <input type="date" class="form-control" id="boletoFecha" required>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Precio *</label>
                                            <input type="number" step="0.01" class="form-control" id="boletoPrecio" placeholder="0.00" required>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Clase *</label>
                                            <select class="form-control" id="boletoClase" required>
                                                <option value="ECONOMICA">Económica</option>
                                                <option value="EJECUTIVA">Ejecutiva</option>
                                                <option value="PRIMERA">Primera Clase</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Estado *</label>
                                            <select class="form-control" id="boletoEstado" required>
                                                <option value="EMITIDO">Emitido</option>
                                                <option value="USADO">Usado</option>
                                                <option value="CANCELADO">Cancelado</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="d-flex gap-2">
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-save"></i> Guardar Boleto
                                    </button>
                                    <button type="button" class="btn btn-secondary" onclick="resetBoletoForm()">
                                        <i class="fas fa-times"></i> Cancelar
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="card mt-4">
                        <div class="card-header bg-primary text-white">
                            <i class="fas fa-list"></i> Lista de Boletos
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-search"></i></span>
                                    <input type="text" class="form-control" id="buscarBoleto" placeholder="Buscar por número, pasajero, clase o estado...">
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Número</th>
                                            <th>Pasajero</th>
                                            <th>Fecha Emisión</th>
                                            <th>Precio</th>
                                            <th>Clase</th>
                                            <th>Estado</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaBoletos"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Ventas Section -->
                <div id="ventas" class="content-section" style="display:none;">
                    <h2 class="mb-4"><i class="fas fa-shopping-cart"></i> Gestión de Ventas</h2>
                    
                    <div class="card mb-4">
                        <div class="card-header bg-danger text-white">
                            <i class="fas fa-plus-circle"></i> Registrar Nueva Venta
                        </div>
                        <div class="card-body">
                            <form id="formVenta">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="ventaCliente" class="form-label">Cliente *</label>
                                            <select class="form-select" id="ventaCliente" required>
                                                <option value="">Seleccione un cliente</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="ventaFecha" class="form-label">Fecha de Venta *</label>
                                            <input type="date" class="form-control" id="ventaFecha" required>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label for="ventaFormaPago" class="form-label">Forma de Pago *</label>
                                            <select class="form-select" id="ventaFormaPago" required>
                                                <option value="">Seleccione...</option>
                                                <option value="EFECTIVO">Efectivo</option>
                                                <option value="TARJETA_CREDITO">Tarjeta de Crédito</option>
                                                <option value="TARJETA_DEBITO">Tarjeta de Débito</option>
                                                <option value="TRANSFERENCIA">Transferencia</option>
                                                <option value="PAYPAL">PayPal</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label for="ventaCanal" class="form-label">Canal de Venta</label>
                                            <select class="form-select" id="ventaCanal">
                                                <option value="">Seleccione...</option>
                                                <option value="WEB">Web</option>
                                                <option value="PRESENCIAL">Presencial</option>
                                                <option value="TELEFONO">Teléfono</option>
                                                <option value="MOVIL">Móvil</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label for="ventaTotal" class="form-label">Total *</label>
                                            <input type="number" class="form-control" id="ventaTotal" step="0.01" min="0" required>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="mb-3">
                                            <label for="ventaEstado" class="form-label">Estado *</label>
                                            <select class="form-select" id="ventaEstado" required>
                                                <option value="PENDIENTE">Pendiente</option>
                                                <option value="COMPLETADA">Completada</option>
                                                <option value="CANCELADA">Cancelada</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="d-flex gap-2">
                                    <button type="submit" class="btn btn-danger">
                                        <i class="fas fa-save"></i> Guardar Venta
                                    </button>
                                    <button type="button" class="btn btn-secondary" onclick="resetVentaForm()">
                                        <i class="fas fa-times"></i> Cancelar
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            <i class="fas fa-list"></i> Historial de Ventas
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-search"></i></span>
                                    <input type="text" class="form-control" id="buscarVenta" placeholder="Buscar por cliente, estado o forma de pago...">
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Cliente</th>
                                            <th>Fecha</th>
                                            <th>Total</th>
                                            <th>Forma Pago</th>
                                            <th>Estado</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaVentas"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Búsqueda Section -->
                <div id="busqueda" class="content-section" style="display:none;">
                    <h2 class="mb-4"><i class="fas fa-search"></i> Búsqueda de Vuelos</h2>
                    
                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            <i class="fas fa-search"></i> Buscar Vuelos Disponibles
                        </div>
                        <div class="card-body">
                            <form id="formBusqueda">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Aeropuerto de Origen *</label>
                                            <select class="form-control" id="busquedaOrigen" required>
                                                <option value="">Seleccione aeropuerto de origen</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Aeropuerto de Destino *</label>
                                            <select class="form-control" id="busquedaDestino" required>
                                                <option value="">Seleccione aeropuerto de destino</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label class="form-label">Fecha de Viaje *</label>
                                            <input type="date" class="form-control" id="busquedaFecha" required>
                                        </div>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary btn-lg">
                                    <i class="fas fa-search"></i> Buscar Vuelos Disponibles
                                </button>
                            </form>
                        </div>
                    </div>

                    <!-- Resultados de búsqueda -->
                    <div class="card mt-4" id="resultadosBusqueda" style="display:none;">
                        <div class="card-header bg-success text-white">
                            <i class="fas fa-plane"></i> Resultados de Búsqueda
                        </div>
                        <div class="card-body">
                            <div id="listaResultados" class="table-responsive">
                                <!-- Los resultados se cargan dinámicamente desde busqueda.js -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <!-- Config & Utilities -->
    <script src="config.js"></script>
    <script src="validaciones.js"></script>
    <script src="uppercase-handler.js"></script>
    
    <!-- Main JS -->
    <script src="main.js"></script>
    
    <!-- Módulos Unificados -->
    <script src="configuracion.js"></script>
    <script src="aeronaves.js"></script>
    <script src="personal.js"></script>
    <script src="comercial.js"></script>
    <script src="operaciones-vuelo.js"></script>
    <script src="gestion-ventas.js"></script>
    <script src="proceso-compra.js"></script>
    <script src="busqueda.js"></script>
</body>
</html>
